<div *ngIf="prodotto" class="prodotto-wrapper">
  <h2>Modifica Prodotto</h2>
  <form [formGroup]="prodottoForm" (ngSubmit)="salvaModifiche()">
    <div class="form-group">
      <label for="nome">Nome:</label>
      <input type="text" id="nome" [(ngModel)]="prodotto.nome" name="nome" formControlName="nome" required>
      <div *ngIf="prodottoForm.get('nome')?.invalid && prodottoForm.get('nome')?.touched">
        <div *ngIf="prodottoForm.get('nome')?.hasError('required')">Il nome è obbligatorio.</div>
        <div *ngIf="prodottoForm.get('nome')?.hasError('minlength')">Il campo Nome deve contenere almeno 3 caratteri.</div>
      </div>
    </div>
    <div class="form-group">
      <label for="marca">Marca:</label>
      <input type="text" id="marca" [(ngModel)]="prodotto.marca" name="marca" formControlName="marca" required>
      <div *ngIf="prodottoForm.get('marca')?.invalid && prodottoForm.get('marca')?.touched">
        <div *ngIf="prodottoForm.get('marca')?.hasError('required')">Il campo Marca è obbligatorio.</div>
      </div>
    </div>
    <div class="form-group">
      <label for="descrizione">Descrizione:</label>
      <input type="text" id="descrizione" [(ngModel)]="prodotto.descrizione" name="descrizione" formControlName="descrizione">
      <div *ngIf="prodottoForm.get('descrizione')?.invalid && prodottoForm.get('descrizione')?.touched">
        <div *ngIf="prodottoForm.get('descrizione')?.hasError('required')">Il campo Descrizione è obbligatorio.</div>
        <div *ngIf="prodottoForm.get('descrizione')?.hasError('minlength')">Il campo Descrizione deve contenere almeno 5 caratteri.</div>
      </div>
    </div>
    <div class="form-group">
      <label for="prezzo">Prezzo:</label>
      <input type="number" id="prezzo" [(ngModel)]="prodotto.prezzo" name="prezzo" formControlName="prezzo" required>
      <div *ngIf="prodottoForm.get('prezzo')?.invalid && prodottoForm.get('prezzo')?.touched">
        <div *ngIf="prodottoForm.get('prezzo')?.hasError('required')">Il campo Prezzo è obbligatorio.</div>
        <div *ngIf="prodottoForm.get('prezzo')?.hasError('pattern')">Il campo Prezzo deve essere un numero positivo.</div>
      </div>
    </div>
    <div class="form-group">
      <label for="quantita">Quantità:</label>
      <input type="number" id="quantita" [(ngModel)]="prodotto.quantita" name="quantita" formControlName="quantita" required>
      <div *ngIf="prodottoForm.get('quantita')?.invalid && prodottoForm.get('quantita')?.touched">
        <div *ngIf="prodottoForm.get('quantita')?.hasError('required')">Il campo Quantità è obbligatorio.</div>
        <div *ngIf="prodottoForm.get('quantita')?.hasError('pattern')">Il campo Quantità deve essere un numero intero positivo.</div>
      </div>
    </div>
    <div class="form-group">
      <label for="iva">IVA:</label>
      <select id="iva" [(ngModel)]="prodotto.iva" name="iva" formControlName="iva" class="iva-select" required>
        <option value="4">4%</option>
        <option value="10">10%</option>
        <option value="22">22%</option>
      </select>
    </div>
    <div class="button-group">
      <button type="submit" class="button-salva">
        <i class="pi pi-save"></i>Salva Modifiche</button>
      <button type="button" class="button-annulla" (click)="annulla()">
        <i class="pi pi-times"></i>Annulla</button>
    </div>
  </form>
</div>

