
<table class="table">
  <thead>
    <tr>
      <th>Nome</th>
      <th>Indirizzo</th>
      <th>Sede</th>
      <th>Capacità Massima</th>
      <th>Azioni</th>
    </tr>
  </thead>
  <tbody>
    <ng-container *ngFor="let magazzino of magazzini; let i = index">
      <tr class="magazzino">
        <!-- Visualizza i dettagli del magazzino -->
        <td><strong>Nome:</strong> <span class="nome-magazzino">{{ magazzino.nome }}</span></td>
        <td><strong>Indirizzo:</strong> {{ magazzino.indirizzo }}</td>
        <td><strong>Sede:</strong> {{ magazzino.sede }}</td>
        <td><strong>Capacità Massima:</strong> {{ magazzino.capacitaMassima }}</td>
        <td>
         <!-- Pulsante "Modifica" con icona -->
    <button (click)="modificaMagazzino(i)" class="btn btn-modifica">
      <i class="pi pi-pencil"></i> Modifica
    </button>

    <!-- Pulsante "Elimina" con icona -->
    <button (click)="eliminaMagazzino(magazzino.nome, i)" class="btn btn-elimina">
      <i class="pi pi-trash"></i> Elimina
    </button>

        </td>        
        
      </tr>
      <!-- Include il componente EliminaMagazzinoComponent solo se magazzinoDaEliminareIndex è definito -->
      <tr *ngIf="i === magazzinoDaEliminareIndex ">
        <td colspan="5">
          <app-elimina-magazzino 
            [nomeOriginale]="nomeOriginale ?? null"
            (eliminazioneConfermata)="eliminazioneConfermata()"
            (eliminazioneAnnullata)="annullaEliminazioneMagazzino()">
          </app-elimina-magazzino>
        </td>
      </tr>
      <!-- Visualizza il form di modifica quando si modifica il magazzino corrente -->
      <tr *ngIf="i === magazzinoDaModificareIndex">
        <td colspan="5">
          <app-modifica-magazzino
            [magazzino]="magazzino"
            [nomeOriginale]="nomeOriginale ?? null"
            (confermaModifica)="confermaModifica($event)"
            (annullaModifica)="annullaModifica()">
          </app-modifica-magazzino>    
        </td>
      </tr>
    </ng-container>
  </tbody>
</table>
